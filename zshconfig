eval "$(starship init zsh)"
eval "$(direnv hook zsh)"

alias claude="/home/jay/.claude/local/claude"
# if command -v batteryled >/dev/null 2>&1; then
    # alias ledbat="inputmodule-control led-matrix --percentage $(batteryled | cut -c 1-2)"
# fi
alias zed="steam-run ~/bin/zed.app/bin/zed"
alias zedp="steam-run ~/bin/zed-preview.app/bin/zed"
alias vim="nvim"
alias docker-credential-gcloud=docker-credential-gcr
alias record-pipewire="pw-record -vP '{ stream.capture.sink=true}' ~/Recordings/$(date '+%Y-%m-%d-%H-%M-%S.wav')"
export PATH=$PATH:$HOME/.cargo/bin
export PATH=$PATH:$HOME/go/bin
export PATH=$PATH:$HOME/bin
export PATH=$PATH:$HOME/.deno/bin
export PATH=$PATH:$HOME/.local/bin
export NIXPKGS_ACCEPT_ANDROID_SDK_LICENSE=1

export EDITOR=hx
export HSA_OVERRIDE_GFX_VERSION=10.3.0
alias yuzu="appimage-run $HOME/Applications/yuzu.AppImage"

export FLYCTL_INSTALL="/home/jay/.fly"
export PATH="$FLYCTL_INSTALL/bin:$PATH"
source $HOME/dotfiles/export-esp.sh

function y() {
	local tmp="$(mktemp -t "yazi-cwd.XXXXXX")" cwd
	yazi "$@" --cwd-file="$tmp"
	if cwd="$(command cat -- "$tmp")" && [ -n "$cwd" ] && [ "$cwd" != "$PWD" ]; then
		builtin cd -- "$cwd"
	fi
	rm -f -- "$tmp"
}
